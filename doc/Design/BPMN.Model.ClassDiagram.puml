@startuml

struct ElementId {
    Id : string
}

interface IElement {
    Id : ElementId
}

IElement ..> ElementId

abstract class Element
{
    ~ Init(string, IModelingContext)
    ~ AttachTo(IModelingContext)
    ~ DetachFrom(IElement) : bool
}

Element -|> IElement
Element ..> IModelingContext

interface IModel {
    + Get(ElementId) : IElement?
    + Get<TElement>(ElementId) : TElement?
    + Get<TElement>() : TElement[]
}

IModel ..> ElementId
IModel ..> IElement

interface IModelingContext {
    + Register(IElement)
    + Unregister(IElement)
}

IModelingContext ..> IElement

class ModelingContext

ModelingContext -|> IModelingContext

class Model {
    - context : ModelingContext
    - elements : Dict<ElementId, Element>

    + CreateNew<TElement>(string?) : TElement
    + Attach<TElement>() : TElement
    ~ Add(IElement)
    ~ Remove(IElement)
}

Model -|> IModel
Model -> ModelingContext
Model ..> ElementId
Model ..> Element

abstract class Event {
    Name : string
}

Event -|> Element

class StartEvent {
    Type : StartEventTypes
}

enum StartEventTypes {
    None
    Compensation
    Conditional
    Error
    Escalating
    Message
    Multiple
    ParallelMultiple
    Signal
    Timer
}

StartEvent -|> Event
StartEvent ..> StartEventTypes

class EndEvent {
    Type : EndEventTypes
}

enum EndEventTypes {
    None
    Cancel
    Compensation
    Error
    Escalating
    Message
    Multiple
    Signal
    Terminate
}

EndEvent -|> Event
EndEvent ..> EndEventTypes

class IntermediateThrowingEvent {
    Type : IntermediateThrowingEventTypes
}

enum IntermediateThrowingEventTypes {
    None
    Compensation
    Escalating
    Link
    Message
    Multiple
    Signal
}

IntermediateThrowingEvent -|> Event
IntermediateThrowingEvent ..> IntermediateThrowingEventTypes

class IntermediateCatchingEvent {
    Type : IntermediateCatchingEventTypes
}

enum IntermediateCatchingEventTypes {
    None
    Cancel
    Compensation
    Conditional
    Message
    Error
    Escalating
    Link
    Multiple
    ParallelMultiple
    Signal
    Timer
}

IntermediateCatchingEvent -|> Event
IntermediateCatchingEvent ..> IntermediateCatchingEventTypes

class InterruptingBoundaryEvent {
    Type : InterruptingBoundaryEventTypes
}

enum InterruptingBoundaryEventTypes {
    None
    Compensation
    Conditional
    Error
    Escalating
    Message
    Multiple
    ParallelMultiple
    Signal
    Timer
}

InterruptingBoundaryEvent -|> Event
InterruptingBoundaryEvent ..> InterruptingBoundaryEventTypes

class NonInterruptingBoundaryEvent {
    Type : NonInterruptingBoundaryEventTypes
}

enum NonInterruptingBoundaryEventTypes {
    None
    Conditional
    Escalating
    Message
    Multiple
    ParallelMultiple
    Signal
    Timer
}

NonInterruptingBoundaryEvent -|> Event
NonInterruptingBoundaryEvent ..> NonInterruptingBoundaryEventTypes

abstract class Activity {
    Name : string
}

Activity -|> Element

class Task

Task -|> Activity

abstract class Gateway {
    Decision : string
}

Gateway -|> Element

class ExclusiveGateway

ExclusiveGateway -|> Gateway

class EventBasedGateway

EventBasedGateway -|> Gateway

class ParallelEventBasedGateway

ParallelEventBasedGateway -|> EventBasedGateway

class InclusiveGateway

InclusiveGateway -|> Gateway

class ComplexGateway

ComplexGateway -|> Gateway

class ParallelGateway

ParallelGateway -|> Gateway

@enduml
